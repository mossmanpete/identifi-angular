<div class="container mar-bot30" ng-controller="IdentitiesController">
  <div class="row">
    <div class="col-xs-8 col-sm-6 col-sm-offset-2">
      <h3>Add contact</h3>
    </div>
    <div class="col-xs-4 col-sm-2">
      <button ng-click="openReadQRModal()" class="btn btn-default pull-right">
        <span class="glyphicon glyphicon-qrcode"></span>
        Scan QR
      </button>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12 col-sm-8 col-sm-offset-2">
      <div class="panel panel-danger" ng-if="error">
        <div class="panel-heading" ng-bind="error"></div>
      </div>
      <div class="panel panel-info" ng-hide="authentication.user">
        <div class="panel-heading">Please log in to add contacts.</div>
      </div>
      <form class="form" name="addEntryForm" ng-submit="addEntry($event, newEntry)">
        <div class="form-group">
          <label for="idName">Name *</label>
          <input type="text" required autofocus id="idName" focus-on="idNameFocus" name="idName" ng-model="newEntry.name" class="form-control">
        </div>
        <div class="form-group" ng-class="{ 'has-error': addEntryForm.idEmail.$invalid }">
          <label for="idEmail">Email</label>
          <input type="email"
                  id="idEmail"
                  name="idEmail"
                  ng-model="newEntry.email"
                  class="form-control">
        </div>
        <div class="form-group" ng-class="{ 'has-error': addEntryForm.idUrl.$invalid }">
          <label for="idUrl">Url</label>
          <input type="url" id="idUrl" name="idUrl" ng-model="newEntry.url" class="form-control">
          <p class="help-block">Social media profile or other personal url</p>
        </div>
        <button class="btn btn-primary"
        ng-disabled="!(authentication.user && !(addEntryForm.idName.$invalid || addEntryForm.idEmail.$invalid || addEntryForm.idPhone.$invalid || addEntryForm.idUrl.$invalid))">
          Add public contact</button>
        <p class="help-block">More details can be added afterwards.</p>
      </form>
    </div>
</div>
